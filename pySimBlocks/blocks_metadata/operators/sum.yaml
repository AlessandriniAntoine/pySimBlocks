name: Sum
category: operators
type: sum

summary: >
  Multi-input summation block.

description: >
  Computes:
  $$
  y = \sum_i s_i \cdot u_i
  $$

parameters:
  signs:
    type: list[int]
    required: false
    autofill: true
    default: [1., 1.]
    valid: [+1, -1]

  num_inputs:
    type: int
    required: false
    default: 2

  sample_time:
    type: float
    required: false

ports:
  inputs:
    - name: inputs
      dynamic: true
      pattern: "in{i}"
      source:
        type: parameter
        parameter: signs
      fallback:
        type: parameter
        parameter: num_inputs
        default: 2
      shape: [n, 1]
      description: Input signals.

  outputs:
    - name: output
      dynamic: false
      pattern: out
      source:
        type: fixed
      shape: [n, 1]
      description: Summed output.

execution:
  direct_feedthrough: true
  has_state: false
